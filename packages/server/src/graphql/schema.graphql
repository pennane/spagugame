enum GameType {
  TICK_TACK_TOE
}

enum UserRole {
  USER
  ADMIN
}

type User {
  _id: ID!
  roles: [UserRole!]!
}

type GamePlayer {
  userId: ID!
  score: Int!
}

enum GameProcessState {
  NOT_STARTED
  STARTING
  ONGOING
  FINISHED
  CANCELLED
}

type Game {
  _id: ID!
  gameType: GameType!
  processState: GameProcessState!
  jsonState: String!
  players: [GamePlayer!]!
  currentTurn: GamePlayer
}

type Query {
  game(gameId: ID!): Game!
  userActiveGames(userId: ID!): [Game!]!
}

type Subscription {
  gameStateChanged(gameId: ID!): Game!
}

type Mutation {
  createGame(gameType: GameType!): Game!
  joinGame(gameId: ID!): Game!
}
